<!--
index.html — Bonanza Transportation (APP/Booking)
────────────────────────────────────────────────
Página principal de reservas (booking) ya separada del index original.

✔ Sin estilos embebidos → /app/styles/app.css
✔ Sin JS embebido → /app/scripts/{core,validators,maps,booking,stripe}.js
✔ SIN la sección de Reschedule → está en /app/reschedule.html
-->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bonanza Transportation</title>

  <!-- CSS global -->
  <link rel="stylesheet" href="/app/styles/app.css" />
</head>
<body>
  <!-- Header / Logo -->
  <header>
    <div class="logo-wrap">
      <img class="logo" src="/images/bonanza-logo.PNG" alt="Bonanza Transportation Logo">
    </div>
  </header>

  <main>
    <!-- Contact -->
    <label for="fullname">Full Name:</label>
    <input id="fullname" type="text" placeholder="e.g. John Doe" autocomplete="name" />

    <label for="phone">Phone Number (US):</label>
    <input id="phone" type="tel" inputmode="numeric" autocomplete="tel" placeholder="(555) 123-4567" />
    <div id="phoneHelp" class="hint"></div>

    <label for="email">Email Address:</label>
    <input id="email" type="email" placeholder="you@example.com" autocomplete="email" autocapitalize="off" spellcheck="false" />
    <div id="emailHelp" class="hint"></div>

    <!-- Locations -->
    <label for="pickup">Pick-up Address:</label>
    <input id="pickup" placeholder="e.g. SLC Airport" autocomplete="street-address" autocapitalize="off" spellcheck="false" />

    <!-- JSX extra fields (auto-UI por JS) -->
    <div id="jsxContainer" style="display:none; margin-top:10px;">
      <label for="jsxFlightNumber">JSX Flight Number:</label>
      <input id="jsxFlightNumber" placeholder="e.g. XE1234" autocapitalize="characters" />

      <label for="jsxOrigin" style="margin-top:12px;">JSX Origin City:</label>
      <input id="jsxOrigin" placeholder="e.g. Burbank (BUR)" autocapitalize="words" />
    </div>

    <label for="dropoff">Drop-off Address:</label>
    <input id="dropoff" placeholder="e.g. Montage Deer Valley" autocomplete="street-address" autocapitalize="off" spellcheck="false" />

    <!-- Meet & Greet (SLC, SUV) -->
    <div class="mg-card" id="meetGreetCard" aria-label="Meet & Greet options">
      <h3>Meet & Greet — SLC Only</h3>
      <p>Choose where you want your driver to meet you inside the terminal.</p>
      <div class="mg-options" role="group" aria-label="Meet & Greet selection">
        <div class="mg-btn" data-choice="tsa_exit" aria-pressed="false">TSA Exit (+$50)</div>
        <div class="mg-btn" data-choice="baggage_claim" aria-pressed="false">Baggage Claim (+$50)</div>
        <div class="mg-btn active" data-choice="none" aria-pressed="true">No Meet & Greet</div>
      </div>
      <div class="mg-note">
        Available only for SUV arrivals at Salt Lake City International (SLC). Vans must use the designated curbside pickup area.
      </div>
    </div>

    <!-- Special Instructions -->
    <label for="specialInstructions">Special Instructions:</label>
    <textarea id="specialInstructions"
      placeholder="Add any important details for your driver (e.g., gate code, luggage, pickup location)"
      style="display:block;width:100%;height:60px;padding:12px 10px; background:#1a1a1a;color:#fff; border:1px solid #444;border-radius:10px;font-size:14px;"></textarea>

    <!-- Flight (comercial) -->
    <div id="flightContainer" style="display:none;">
      <label for="flightNumber">Flight Number:</label>
      <input id="flightNumber" placeholder="e.g. DL1234" autocapitalize="characters" />
      <div id="flightHint" class="hint warn" style="display:none">
        ✈️ Enter the complete flight number exactly as it appears on your boarding pass or itinerary.
      </div>

      <label for="flightOrigin" style="margin-top:12px;">Flight Origin City:</label>
      <input id="flightOrigin" placeholder="e.g. Miami (MIA)" />
      <div id="originHelp" class="hint" style="display:none"></div>
    </div>

    <!-- Resultado del backend de vuelo -->
    <div id="backendResult" class="hint" style="display:block; margin-top:6px;"></div>

    <!-- Private Jet (FBO) -->
    <div id="privateFlightContainer" style="display:none;">
      <label for="tailNumber">Jet Tail Number (N-Number):</label>
      <input id="tailNumber" placeholder="e.g., N123AB" autocapitalize="characters" />
      <div id="tailHelp" class="hint" style="display:none"></div>

      <label for="pvtOrigin" style="margin-top:12px;">Flight Origin City:</label>
      <input id="pvtOrigin" placeholder="e.g., Van Nuys (VNY)" />
      <div id="pvtOriginHelp" class="hint" style="display:none"></div>
    </div>

    <!-- Date / Time -->
    <div class="input-row">
      <div>
        <label for="date">Date:</label>
        <input id="date" type="date" />
        <div id="dateHelp" class="helper"></div>
      </div>
      <div>
        <label for="timeHour">Time:</label>
        <!-- Selector con scroll (AM/PM) -->
        <div class="time-grid">
          <select id="timeHour" class="time-input" aria-label="Hour">
            <option value="">HH</option>
            <option>1</option><option>2</option><option>3</option><option>4</option>
            <option>5</option><option>6</option><option>7</option><option>8</option>
            <option>9</option><option>10</option><option>11</option><option>12</option>
          </select>
          <select id="timeMin" class="time-input" aria-label="Minutes">
            <option value="">MM</option>
            <option>00</option><option>15</option><option>30</option><option>45</option>
          </select>
          <select id="timeAmPm" class="time-input" aria-label="AM/PM">
            <option value="">AM/PM</option>
            <option>AM</option><option>PM</option>
          </select>
        </div>
        <div id="timeHelp" class="helper">Examples: 7:00 AM · 10:30 PM</div>
        <div id="timeError" class="field-error" role="alert" aria-live="polite" style="display:none;"></div>
        <!-- Fin selector -->
      </div>
    </div>

    <!-- Vehicle selector + visual -->
    <div class="veh-toggle">
      <button class="veh-btn active" data-type="suv">SUV (1-5 Passengers)</button>
      <button class="veh-btn" data-type="van">Van (up to 12 Passengers)</button>
    </div>
    <div class="turntable">
      <img class="car" src="/images/suburban.png" alt="Selected Vehicle">
      <div class="platform"></div>
      <div class="vehicle-caption">SUV — Max 5 passengers, 5 suitcases</div>
    </div>

    <!-- Luggage -->
    <div class="luggage-accordion" id="luggageAccordion">
      <div class="luggage-summary">
        <span class="luggage-title">Luggage Guidelines</span>
        <span class="luggage-chev"></span>
      </div>
      <div class="luggage-body">
        <div class="lug-section">
          <h4>SUV – 1 to 5 Passengers</h4>
          <div class="lug-option">
            <h5>Option 1 – With Sports Equipment</h5>
            <ul>
              <li>5 sports equipment items (ski bags or golf bags)</li>
              <li>3 large suitcases (28–32”)</li>
              <li>3 small suitcases (20–24”)</li>
            </ul>
          </div>
          <div class="lug-option">
            <h5>Option 2 – Without Sports Equipment</h5>
            <ul>
              <li>4 large suitcases (28–32”)</li>
              <li>4 small suitcases (20–24”)</li>
            </ul>
          </div>
        </div>
        <div class="lug-section">
          <h4>Van – Up to 12 Passengers</h4>
          <div class="lug-option">
            <h5>Option 1 – With Sports Equipment</h5>
            <ul>
              <li>8 sports equipment items (ski bags or golf bags)</li>
              <li>8 large suitcases (28–32”)</li>
              <li>Carry-on: 1 per passenger (backpack or small bag)</li>
            </ul>
          </div>
          <div class="lug-option">
            <h5>Option 2 – Without Sports Equipment</h5>
            <ul>
              <li>12–14 large suitcases (28–32”)</li>
              <li>Carry-on: 1 per passenger (backpack or small bag)</li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- Terms -->
    <div class="terms-box" id="terms-box">
      <div class="terms-summary">
        <div class="accept-pill" id="acceptPill" tabindex="0" role="switch" aria-checked="false">
          <div class="accept-dot"></div>
        </div>
        <div class="accept-label">I accept the Terms & Conditions</div>
        <ul style="font-size:13px; color:#ccc; margin:10px 0 0 0; padding-left:18px;">
          <li>Full payment required to confirm reservation.</li>
          <li>Cancellations within 24h are non-refundable.</li>
          <li>Not liable for delays caused by traffic, weather, or airlines.</li>
          <li>Customer is responsible for accuracy of submitted information.</li>
          <li>We may text you to confirm details, but all bookings are processed exactly as entered.</li>
        </ul>
      </div>

      <div class="terms-body">
        <div id="terms-content" class="terms-content clamped">
          By booking with Bonanza Transportation, you agree to our policies including but not limited to payment terms,
          cancellation policy, and liability limits. Please read carefully before proceeding. Bonanza Transportation
          reserves the right to modify or cancel reservations if conditions warrant. Full terms are available upon request.
        </div>
        <button type="button" id="openTermsModal" class="readmore-btn">View Full Terms</button>
      </div>
    </div>

    <!-- Botones -->
    <button id="calculate" disabled>Calculate Price</button>

    <!-- Mapa -->
    <div id="map"></div>

    <!-- PAY NOW -->
    <button id="pay" disabled style="display:none">PAY NOW</button>

    <!-- Resumen -->
    <div id="info"></div>

    <!-- Reschedule (CTA estilo botón) -->
    <div class="cta-wrap">
      <a class="cta-reschedule" href="/app/reschedule.html" aria-label="Open the reschedule page">
        Need to reschedule? <span class="arrow" aria-hidden="true"></span>
      </a>
    </div>

    <!-- Contact / Admin link -->
    <div class="divider" style="margin:16px 0;"></div>
    <p><strong>Contact</strong><br>
      📱 Text messages only: (786) 683-5128<br>
      📧 Email: bonanzatransportation1@outlook.com<br>
      📍 Park City, Utah — USA
    </p>
    <div style="text-align:left; margin-top:12px;">
      <a href="/admin.html"
         style="display:inline-block;padding:10px 20px;background:rgba(0,0,0,0.85);
                color:rgba(168,116,79,0.6);font-weight:600;border-radius:8px;text-decoration:none;
                border:1px solid rgba(168,116,79,0.25);box-shadow:none;">
        Headquarters 🇺🇸
      </a>
    </div>
  </main>

  <!-- Modal Términos -->
  <div class="modal-backdrop" id="termsModal" aria-hidden="true">
    <div class="modal" role="dialog" aria-labelledby="termsTitle" aria-modal="true">
      <div class="modal-header">
        <h2 id="termsTitle" class="modal-title">Terms & Conditions</h2>
        <button id="closeTerms" class="close-btn">Close</button>
      </div>
      <div class="modal-body" style="line-height:1.6">
        <h3 style="margin:0 0 8px;color:#ffddae">Terms and Conditions</h3>
        <div style="opacity:.85;margin-bottom:8px">Bonanza Transportation — Last updated: 2024</div>
      </div>
    </div>
  </div>

  <!-- JS propios (orden recomendado) -->
  <script defer src="/app/scripts/core.js"></script>
  <script defer src="/app/scripts/validators.js"></script>
  <script defer src="/app/scripts/maps.js"></script>
  <script defer src="/app/scripts/booking.js"></script>
  <script defer src="/app/scripts/stripe.js"></script>

  <!-- Terceros -->
  <!-- NOTA: usamos 'defer' (no async) y callback=initMap.
       Así evitamos el error "initMap is not a function" -->
  <script defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDN6B8izVVhi9CGiO-_TXdhquQAE_i5Lts&libraries=places&callback=initMap"></script>
  <script src="https://js.stripe.com/v3"></script>
</body>
</html>
