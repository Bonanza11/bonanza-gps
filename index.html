   <!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Bonanza Transportation</title>
  <style>
    body {
      background-color: #000;
      color: #fff;
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      text-align: center;
header img {
    width: 180px;
    height: 180px;
    border-radius: 50%;
    display: block;
    margin: 20px auto;
    box-shadow: 0 0 20px rgba(200, 143, 87, 0.8), /* sombra cobre */
                0 0 40px rgba(200, 143, 87, 0.5),
                0 0 60px rgba(200, 143, 87, 0.3);
    transition: transform 0.3s ease, box-shadow 0.3s ease;
}

header img:hover {
    transform: scale(1.05);
    box-shadow: 0 0 25px rgba(200, 143, 87, 1),
                0 0 50px rgba(200, 143, 87, 0.7),
                0 0 80px rgba(200, 143, 87, 0.5);
} 
    }
    button {
      width: 100%; padding: 15px; font-size: 16px;
      border: none; border-radius: 5px;
      background-color: #b87333; color: #fff;
      cursor: pointer; transition: 0.3s;
    }
    button:hover { background-color: #d18538; }
    #map { height: 380px; margin: 10px 0; }
    #info {
      background: #111; padding: 10px; text-align: left;
      border-radius: 5px; font-size: 14px;
    }
  </style>
</head>
<body>
  <header>
    <img src="bonanza-logo.PNG" alt="Bonanza Transportation Logo"/>
  </header>

  <main>
    <label for="fullname">Full Name:</label>
    <input id="fullname" placeholder="e.g. John Doe" />

    <label for="phone">Phone Number:</label>
    <input id="phone" placeholder="e.g. +1 385 123 4567" />

    <label for="email">Email Address:</label>
    <input id="email" type="email" placeholder="e.g. your@email.com" />

    <label for="pickup">Pick-up Address:</label>
    <input id="pickup" placeholder="e.g. 13742 N Jordanelle Pkwy" />

    <label for="dropoff">Drop-off Address:</label>
    <input id="dropoff" placeholder="e.g. SLC Airport" />

    <label for="date">Date:</label>
    <input id="date" type="date" />

    <label for="time">Time:</label>
    <input id="time" type="time" />

    <button id="calculate">Calculate Price</button>

    <div id="map"></div>
    <div id="info">
      <div><b>Distance:</b> --</div>
      <div><b>Duration:</b> --</div>
      <div><b>Estimated Price:</b> $0.00</div>
      <div><b>Note:</b> Pet-Friendly Service (No Extra Charge)</div>
      <div><b>Vehicle:</b> Black Suburban – 1–5 Passengers</div>
    </div>

    <button id="pay" style="display:none;">PAY NOW</button>
  </main>

  <script>
    let map, directionsService, directionsRenderer;
    let pickupAutocomplete, dropoffAutocomplete;
    let distanceValue = 0;
    let price = 0;

    function initMap() {
      map = new google.maps.Map(document.getElementById("map"), {
        center: { lat: 40.7587, lng: -111.8762 },
        zoom: 10,
      });
      directionsService = new google.maps.DirectionsService();
      directionsRenderer = new google.maps.DirectionsRenderer();
      directionsRenderer.setMap(map);

      // AUTOCOMPLETE CLÁSICO (funciona ahora, migrar en marzo 2025)
      pickupAutocomplete = new google.maps.places.Autocomplete(
        document.getElementById("pickup")
      );
      dropoffAutocomplete = new google.maps.places.Autocomplete(
        document.getElementById("dropoff")
      );
    }

    function calculatePrice(distanceMiles) {
      if (distanceMiles <= 10) return 120;
      if (distanceMiles <= 35) return 190;
      if (distanceMiles <= 39) return 210;
      if (distanceMiles <= 48) return 230;
      if (distanceMiles <= 55) return 250;
      return distanceMiles * 5.4;
    }

    document.getElementById("calculate").addEventListener("click", () => {
      const pickup = document.getElementById("pickup").value;
      const dropoff = document.getElementById("dropoff").value;
      if (!pickup || !dropoff) {
        alert("Please enter both pick-up and drop-off addresses.");
        return;
      }
      directionsService.route(
        { origin: pickup, destination: dropoff, travelMode: "DRIVING" },
        (result, status) => {
          if (status === "OK") {
            directionsRenderer.setDirections(result);
            const route = result.routes[0].legs[0];
            const distanceMiles = parseFloat(route.distance.text);
            distanceValue = distanceMiles;
            price = calculatePrice(distanceMiles);

            document.getElementById("info").innerHTML = `
              <div><b>Distance:</b> ${distanceMiles} miles</div>
              <div><b>Duration:</b> ${route.duration.text}</div>
              <div><b>Estimated Price:</b> $${price.toFixed(2)}</div>
              <div><b>Note:</b> Pet-Friendly Service (No Extra Charge)</div>
              <div><b>Vehicle:</b> Black Suburban – 1–5 Passengers</div>
              <div><b>Luggage:</b> 6 ski bags, 2 large + 3 small or 3 large + 4 small suitcases</div>
            `;
            document.getElementById("pay").style.display = "block";
          } else {
            alert("Could not calculate route: " + status);
          }
        }
      );
    });

    document.getElementById("pay").addEventListener("click", async () => {
      const response = await fetch("/api/create-checkout-session", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ price }),
      });
      const data = await response.json();
      if (data.url) {
        window.location.href = data.url;
      }
    });
  </script>
  <!-- Google Maps API -->
<script
  src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDN6B8izVVhi9CGiO-_TXdhquQAE_i5Lts&libraries=places&callback=initMap"
  async defer>
</script>
</body>
</html>
